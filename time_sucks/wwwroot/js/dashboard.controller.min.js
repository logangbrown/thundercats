angular.module("time").controller("DashboardCtrl",["$scope","$http","$routeParams","$location","usSpinnerService",function(n,t,i,r){n.loaded=!1;n.load=function(){n.groups={};t.get("/Home/GetDashboard").then(function(t){n.groups=t.data},function(){toastr.error("Error retrieving dashboard groups.")});n.loaded=!0};n.$parent.user&&n.$parent.user!==""?n.load():t.get("/Home/CheckSession").then(function(t){n.$parent.user=t.data;n.$parent.loaded=!0;n.load()},function(){toastr.error("Not logged in.");r.path("/login")})}]);